---
user preferences:
  pages:
    Email Preferences:
      url_rules:
        - //cloud.redhat.com/user-preferences/email
  features:
    unsubscribe:
      selectors:
        - '[data-ouia-page-group="user-preferences"] span:contains("Unsubscribe from all")'

dashboard:
  color: 1
  pages:
    Host list:
      url_rules:
        - //cloud.redhat.com/insights/dashboard
  features:
    "Dashboard - Link: Systems running insights-client":
      selectors:
        - '[data-ouia-page-type="dashboard"] a:contains("Systems running insights-client")'
    "Dashboard - Link: X stale systems":
      selectors:
        - '[data-ouia-page-type="dashboard"] p:contains("stale systems")'
    "Dashboard - Link: X systems to be removed":
      selectors:
        - '[data-ouia-page-type="dashboard"] p:contains("systems to be removed")'
    "Dashboard - Link: X incidents detected":
      selectors:
        - '[data-ouia-page-type="dashboard"] a:contains("Incidents detected")'
    "Dashboard - Link: X Recommendations affecting X systems":
      selectors:
        - '[data-ouia-page-type="dashboard"] a[href="./insights/advisor/recommendations?reports_shown=undefined&impacting=true&offset=0&limit=10&sort=-publish_date"]'
    "Dashboard - Link: X CVEs impacting your systems":
      selectors:
        - '[data-ouia-page-type="dashboard"] a:contains("CVEs impacting your systems")'
    "Dashboard - Link: X systems affected":
      selectors:
        - '[data-ouia-page-type="dashboard"] a:contains("systems affected")'
    "Dashboard - Link: Subscription Watch utilization - Red Hat Enterprise Linux":
      selectors:
        - '[data-ouia-page-type="dashboard"] div:contains("Red Hat Enterprise Linux")'
    "Dashboard - Link: Subscription Watch utilization - Red Hat OpenShift":
      selectors:
        - '[data-ouia-page-type="dashboard"] div:contains("Red Hat OpenShift")'

advisor:
  color: 2
  features:
    "Recommendations - Link: Clear filters":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Clear filters")'
    "Recommendations - Filter: Total risk":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Total risk")'
    "Recommendations - Filter: Risk of change":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Risk of change")'
    "Recommendations - Filter: Impact":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Impact")'
    "Recommendations - Filter: Likelihood":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Likelihood")'
    "Recommendations - Filter: Category":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Category")'
    "Recommendations - Filter: Incidents":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Incidents")'
    "Recommendations - Filter: Ansible support":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Ansible support")'
    "Recommendations - Filter: Reboot required":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Reboot required")'
    "Recommendations - Filter: Status":
      selectors:
        - '[data-ouia-page-type="recommendations"] button:contains("Status")'
    "Recommendations - Link: Download executive report":
      selectors:
        - '[data-ouia-page-type="recommendations"] a:contains("Download executive report")'
    "Recommendations - Button: Ansible":
      selectors:
        - '[data-ouia-page-type="recommendations"] span:contains("Ansible")'
    "Systems - Filter: Total risk":
      selectors:
        - '[data-ouia-page-type="systems"] button.pf-c-dropdown__menu-item:contains("Total Risk")'

  pages:
    All:
      url_rules:
        - //cloud.redhat.com/insights/**
    Recommendations system:
      url_rules:
        - //cloud.redhat.com/insights/advisor/recommendations/*/*
        - //cloud.redhat.com/insights/recommendations/*/*
    Recommendations view:
      url_rules:
        - //cloud.redhat.com/insights/advisor/recommendations/*
        - //cloud.redhat.com/insights/recommendations/*
    Recommendations list:
      url_rules:
        - //cloud.redhat.com/insights/advisor/recommendations
        - //cloud.redhat.com/insights/recommendations
    Systems view:
      url_rules:
        - //cloud.redhat.com/insights/advisor/systems/*
    Systems list:
      url_rules:
        - //cloud.redhat.com/insights/advisor/systems
    Topics view:
      url_rules:
        - //cloud.redhat.com/insights/advisor/topics/*
    Topics list:
      url_rules:
        - //cloud.redhat.com/insights/advisor/topics

vulnerability:
  color: 3
  pages:
    CVE list:
      url_rules:
        - //cloud.redhat.com/insights/vulnerability/cves
    CVE view:
      url_rules:
        - //cloud.redhat.com/insights/vulnerability/cves/*
    Systems list:
      url_rules:
        - //cloud.redhat.com/insights/vulnerability/systems
    Systems view:
      url_rules:
        - //cloud.redhat.com/insights/vulnerability/systems/*
  features:
    "CVEs - Link: Download executive report":
      selectors:
        - '[data-ouia-page-type="cves"] a:contains("Download executive report")'
    "CVEs - Filter: Security rules":
      selectors:
        - '[data-ouia-page-type="cves"] button:contains("Security rules")'
    "CVEs - Filter: Severity":
      selectors:
        - '[data-ouia-page-type="cves"] button:contains("Severity")'
    "CVEs - Filter: CVSS base score":
      selectors:
        - '[data-ouia-page-type="cves"] button:contains("CVSS base score")'
    "CVEs - Filter: Business risk":
      selectors:
        - '[data-ouia-page-type="cves"] button:contains("Business risk")'
    "CVEs - Filter: Status":
      selectors:
        - '[data-ouia-page-type="cves"] button:contains("Status")'
    "CVEs - Filter: Publish date":
      selectors:
        - '[data-ouia-page-type="cves"] button:contains("Publish date")'

compliance:
  color: 4
  pages:
    Reports list - By policy:
      url_rules:
        - //cloud.redhat.com/insights/compliance/reports
    Reports list - By system:
      url_rules:
        - //cloud.redhat.com/insights/compliance/reports/systems
    Reports view:
      url_rules:
        - //cloud.redhat.com/insights/compliance/reports/*
    SCAP Policies list:
      url_rules:
        - //cloud.redhat.com/insights/compliance/scappolicies
    SCAP Policies view:
      url_rules:
        - //cloud.redhat.com/insights/compliance/scappolicies/*
    Systems list:
      url_rules:
        - //cloud.redhat.com/insights/compliance/systems
  features:
    "Any - Button: Remediate":
      page_id: vhrjVxrz8JAXBHA9p7PO4wRevc0
      selectors:
        - '[data-ouia-page-type="systems"] button:contains("Remediate")'
    "Reports - Link: View report":
      selectors:
        - '[data-ouia-page-type="reports"] a:contains("View report")'
    "Reports - Link: View policy":
      selectors:
        - '[data-ouia-page-type="reports"] a:contains("View policy")'
    "Reports - Button: Ansible Remediate":
      selectors:
        - '[data-ouia-page-type="reports"] div:contains("Remediate").pf-c-toolbar__item'
    "SCAP Policies - Button: Create new policy":
      selectors:
        - '[data-ouia-page-type="scappolicies"] button:contains("Create new policy")'
    # Need a way to scope to Compliance here page-type="compliance-reports" is so bad
    "Systems - Filter: Status":
      selectors:
        - '[data-ouia-page-type="systems"] [page-type="compliance-reports"] button:contains("Status")'
    "Systems - Filter: Source":
      selectors:
        - '[data-ouia-page-type="systems"] [page-type="compliance-reports"] button:contains("Source")'
    "Systems - Link: Clear filters":
      selectors:
        - '[data-ouia-page-type="systems"] [page-type="compliance-reports"] button:contains("Clear filters").pf-c-button'

patch:
  color: 5
  pages:
    Advisories list:
      url_rules:
        - //cloud.redhat.com/insights/patch/
    Advisory view:
      url_rules:
        - //cloud.redhat.com/insights/patch/advisories/*/
    Systems list:
      url_rules:
        - //cloud.redhat.com/insights/patch/systems/
    Systems view:
      url_rules:
        - //cloud.redhat.com/insights/patch/systems/*/
  features:
    "Advisories - Filter: Type":
      selectors:
        - '[data-ouia-page-type="advisories"] button:contains("Type")'
    "Advisories - Filter: Publish date":
      selectors:
        - '[data-ouia-page-type="advisories"] button:contains("Publish date")'
    "Advisories - Button: Export":
      selectors:
        - '[data-ouia-page-type="advisories"] button.pf-c-dropdown__toggle'

drift:
  color: 6
  pages:
    Comparison list:
      url_rules:
        - //cloud.redhat.com/insights/drift
    Comparison view:
      url_rules:
        - //cloud.redhat.com/insights/drift/*
    Baseline list:
      url_rules:
        - //cloud.redhat.com/insights/drift/baselines
    Baseline view:
      url_rules:
        - //cloud.redhat.com/insights/drift/baselines/*
  features:
    "Comparison - Button: Add to comparison":
      selectors:
        - 'button:contains("Add to comparison")'
    "Baselines - Button: Create baseline":
      selectors:
        - 'button#create-baseline-button:contains("Create baseline")'

policies:
  color: 7
  pages:
    Policies list:
      url_rules:
        - //cloud.redhat.com/insights/policies/list
    Policies view:
      url_rules:
        - //cloud.redhat.com/insights/policies/policy/*
  features:
    "Policies - Link: Open email preferences":
      selectors:
        - 'a:contains("Open email preferences")'
    "Policies - Button: Create policy":
      selectors:
        - 'button:contains("Create policy").pf-c-button'

inventory:
  color: 8
  pages:
    Inventory list:
      url_rules:
        - //cloud.redhat.com/insights/inventory/
    Inventory view:
      url_rules:
        - //cloud.redhat.com/insights/inventory/*
  features:
    "Inventory - Button: Delete":
      selectors:
        - 'button:contains("Delete")'

remediations:
  color: 9
  pages:
    Remediations - Insights view:
      url_rules:
        - //cloud.redhat.com/insights/remediations/*
    Remediations - RHEL view:
      url_rules:
        - //cloud.redhat.com/rhel/remediations/*
    All:
      url_rules:
        - //cloud.redhat.com/rhel/remediations/**
        - //cloud.redhat.com/insights/remediations/**
  features:
    "Remediations - Button: Remediate":
      selectors:
        - button:contains('Remediate')
    "Remediations - Button: Download playbook":
      selectors:
        - button:contains('Download playbook')
    "Remediations - Button: Execute playbook":
      selectors:
        - button:contains('Execute playbook')
    "Remediations - Button: Remove actions":
      selectors:
        - .ins-c-remediations-details-table__toolbar button:contains('Remove actions')
    "Remediations - Button: Auto reboot":
      selectors:
        - .ins-c-playbookSummary__overview button:contains('auto reboot')
    "Remediations - Button: Activity":
      selectors:
        - .pf-l-stack__item ins-c-playbookSummary__tabs button:contains('Activity')

register systems:
  color: 10
  pages:
    Host list:
      url_rules:
        - //cloud.redhat.com/insights/registration
  features:
    "Register Systems - Select: Red Hat Subscription Manager":
      selectors:
        - 'div:contains("Red Hat Subscription Manager").pf-c-radio'
    "Register Systems - Select: Red Hat Satellite":
      selectors:
        - 'div:contains("Red Hat Satellite").pf-c-radio'
    "Register Systems - Select: Public cloud/RHUI":
      selectors:
        - 'div:contains("Public cloud/RHUI").pf-c-radio'
    "Operating System - Select: RHEL 8":
      selectors:
        - '.pf-c-radio:contains("RHEL 8")'
    "Operating System - Select: RHEL 7 and 6":
      selectors:
        - '.pf-c-radio:contains("RHEL 7 & 6")'

subscription watch:
  color: 1
  pages:
    Red Hat Enterprise Linux - All:
      url_rules:
        - //cloud.redhat.com/subscriptions/rhel-sw/all
    Red Hat Enterprise Linux - ARM:
      url_rules:
        - //cloud.redhat.com/subscriptions/rhel-sw/arm
    Red Hat Enterprise Linux - IBM Power:
      url_rules:
        - //cloud.redhat.com/subscriptions/rhel-sw/ibmpower
    Red Hat Enterprise Linux - IBM Z Systems:
      url_rules:
        - //cloud.redhat.com/subscriptions/rhel-sw/ibmz
    Red Hat Enterprise Linux - x86:
      url_rules:
        - //cloud.redhat.com/subscriptions/rhel-sw/x86
    Red Hat OpenShift:
      url_rules:
        - //cloud.redhat.com/subscriptions/openshift-sw
  features:
    "Red Hat Enterprise Linux - Link: Learn more about Subscription Watch reporting":
      selectors:
        - 'a:contains("Learn more about Subscription Watch reporting")'
    "Red Hat Enterprise Linux - Link: Physical RHEL":
      selectors:
        - 'a:contains("Physical RHEL")'
    "Red Hat Enterprise Linux - Link: Virtualized RHEL":
      selectors:
        - 'a:contains("Virtualized RHEL")'
    "Red Hat Enterprise Linux - Link: Public cloud":
      selectors:
        - 'a:contains("Public cloud")'
    "Red Hat Enterprise Linux - Link: Subscription threshold":
      selectors:
        - 'a:contains("Subscription threshold")'
    "Red Hat OpenShift - Link: Cores":
      selectors:
        - 'a:contains("Cores")'

rbac:
  features:
    "Groups - Button: Add group":
      selectors:
        - '[data-ouia-page-group="settings"] a[href="/settings/rbac/groups/add-group"]'
        - '[data-ouia-page-group="settings"] a[href="/settings/rbac/groups/add-group"] button'
        - '[data-ouia-page-group="settings"] button:contains("Create groups")'
    "Groups - Button: Complete group creation":
      selectors:
        - '[data-ouia-page-group="settings"] a[href="/settings/rbac/groups/add-group"]button:contains("Create")'
  pages:
    All:
      url_rules:
        - //cloud.redhat.com/settings/rbac/**
    RBAC - Groups list:
      url_rules:
        - //cloud.redhat.com/settings/rbac/groups
    RBAC - Group view:
      url_rules:
        - //cloud.redhat.com/settings/rbac/groups/detail/*/roles
    RBAC - Roles list:
      url_rules:
        - //cloud.redhat.com/settings/rbac/roles
    RBAC - Role view:
      url_rules:
        - //cloud.redhat.com/settings/rbac/groups/detail/*/roles/detail/*
        - //cloud.redhat.com/settings/rbac/roles/detail/*
    RBAC - Users list:
      url_rules:
        - //cloud.redhat.com/settings/rbac/users
    RBAC - Users view:
      url_rules:
        - //cloud.redhat.com/settings/rbac/users/detail/*

cluster manager:
  color: 2
  pages:
    Clusters list:
      url_rules:
        - //cloud.redhat.com/openshift/
    Clusters view:
      url_rules:
        - //cloud.redhat.com/openshift/details/*
    Clusters - Create a cluster to get started:
      url_rules:
        - //cloud.redhat.com/openshift/create
    Create cluster - OpenShift Container Platform:
      url_rules:
        - //cloud.redhat.com/openshift/install
    Create cluster - AWS:
      url_rules:
        - //cloud.redhat.com/openshift/install/aws
    Create cluster - AWS - Installer provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/aws/installer-provisioned
    Create cluster - AWS - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/aws/user-provisioned
    Create cluster - Azure:
      url_rules:
        - //cloud.redhat.com/openshift/install/azure
    Create cluster - Azure - Installer provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/azure/installer-provisioned
    Create cluster - Azure - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/azure/user-provisioned
    Create cluster - GCP:
      url_rules:
        - //cloud.redhat.com/openshift/install/gcp
    Create cluster - GCP - Installer provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/gcp/installer-provisioned
    Create cluster - GCP - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/gcp/user-provisioned
    Create cluster - Run on bare metal:
      url_rules:
        - //cloud.redhat.com/openshift/install/metal
    Create cluster - Assisted Bare Metal Installer:
      url_rules:
        - //cloud.redhat.com/openshift/assisted-installer/clusters/~new
    Assisted Bare Metal Installer - Cluster list:
      url_rules:
        - //cloud.redhat.com/openshift/assisted-installer/clusters
    Assisted Bare Metal Installer - Cluster conifiguration:
      url_rules:
        - //cloud.redhat.com/openshift/assisted-installer/clusters/*
    Create cluster - Openstack:
      url_rules:
        - //cloud.redhat.com/openshift/install/openstack
    Create cluster - Openstack - Installer provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/openstack/installer-provisioned
    Create cluster - Openstack - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/openstack/user-provisioned
    Create cluster - Red Hat Virtualization - Installer provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/rhv/installer-provisioned
    Create cluster - VMware vSphere - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/vsphere/user-provisioned
    Create cluster - Power Systems - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/power/user-provisioned
    Create cluster - IBM Z - User provisioned infrastructure:
      url_rules:
        - //cloud.redhat.com/openshift/install/ibmz/user-provisioned
    Create cluster - Run on your laptop with Code Ready Containers:
      url_rules:
        - //cloud.redhat.com/openshift/install/crc/installer-provisioned
    Subscriptions:
      url_rules:
        - //cloud.redhat.com/openshift/subscriptions
    Overview:
      url_rules:
        - //cloud.redhat.com/openshift/overview
  features:
    "Clusters - Button: Create cluster":
      selectors:
        - 'button:contains("Create cluster")'
    "Clusters - Filter: Cluster type":
      selectors:
        - 'button:contains("Filter")'
    "Subscriptions - Button: Open Subscription Watch":
      selectors:
        - 'a:contains("Open Subscription Watch")'

automation analytics:
  color: 3
  pages:
    Clusters:
      url_rules:
        - //cloud.redhat.com/ansible/automation-analytics/clusters
    Organization Statistics:
      url_rules:
        - //cloud.redhat.com/ansible/automation-analytics/organization-statistics
    Automation Calculator:
      url_rules:
        - //cloud.redhat.com/ansible/automation-analytics/automation-calculator
    Notifications:
      url_rules:
        - //cloud.redhat.com/ansible/automation-analytics/notifications
  features:
    "Clusters - Filter: Past week":
      selectors:
        - '[data-ouia-page-group="ansible"][data-ouia-page-type="clusters"] option:contains("Past week")'

automation hub:
  color: 4
  pages:
    Collections list:
      url_rules:
        - //cloud.redhat.com/ansible/automation-hub/
    Partners:
      url_rules:
        - //cloud.redhat.com/ansible/automation-hub/partners
    My Namespaces list:
      url_rules:
        - //cloud.redhat.com/ansible/automation-hub/my-namespaces
    My Namespaces view:
      url_rules:
        - //cloud.redhat.com/ansible/automation-hub/my-namespaces/*
  features:
    "Partners - Link: View collections":
      selectors:
        - 'a:contains("View collections")'

automation services catalog:
  color: 5
  pages:
    Products:
      url_rules:
        - //cloud.redhat.com/ansible/catalog/products/*
    Portfolio:
      url_rules:
        - //cloud.redhat.com/ansible/catalog/portfolios/*
    Orders:
      url_rules:
        - //cloud.redhat.com/ansible/catalog/orders/*
    Approval:
      url_rules:
        - //cloud.redhat.com/ansible/catalog/approval/*

cost management:
  color: 6
  pages:
    Overview:
      url_rules:
        - //cloud.redhat.com/cost-management/
    Details - OpenShift:
      url_rules:
        - //cloud.redhat.com/cost-management/details/*
    Details - Infrastructure:
      url_rules:
        - //cloud.redhat.com/cost-management/details/aws
    Cost Models:
      url_rules:
        - //cloud.redhat.com/cost-management/cost-models

migration analytics:
  color: 7
  pages:
    Getting Started:
      url_rules:
        - //cloud.redhat.com/migrations/migration-analytics/getting-started
    Report - upload:
      url_rules:
        - //cloud.redhat.com/migrations/migration-analytics/reports/upload
    Report - list:
      url_rules:
        - //cloud.redhat.com/migrations/migration-analytics/reports
  features:
    "Migration Analytics - Button: Create":
      selectors:
        - 'a:contains("Create")'
